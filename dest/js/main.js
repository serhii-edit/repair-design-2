document.addEventListener("DOMContentLoaded",function(e){const t=document.querySelector(".modal");var o,l=document.querySelector(".modal-submit");if(t.onclick=function(e){e.target==t&&(t.classList.toggle("modal--visible"),document.querySelector("body").style.overflow="auto")},window.addEventListener("keydown",function(e){"Escape"==e.key&&(t.classList.remove("modal--visible"),document.querySelector("body").style.overflow="auto")}),window.addEventListener("keydown",function(e){"Escape"==e.key&&(l.classList.remove("modal-submit-visible"),document.querySelector("body").style.overflow="auto")}),l.onclick=function(e){e.target==l&&(l.classList.remove("modal-submit-visible"),document.querySelector("body").style.overflow="auto")},window.onscroll=function(){!function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=e/t*100;document.getElementById("myBar").style.width=o+"%"}()},"IntersectionObserver"in window){o=document.querySelectorAll(".lazy");var r=new IntersectionObserver(function(e,t){console.log(t),e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.classList.remove("lazy"),r.unobserve(t)}})},{root:document.querySelector("#container"),rootMargin:"0px 0px 400px 0px"});o.forEach(function(e){r.observe(e)})}else{var n;function i(){n&&clearTimeout(n),n=setTimeout(function(){var e=$(window).scrollTop();o.each(function(){var t=$(this);if(t.offset().top<window.innerHeight+e+500){var l=t.attr("data-src");t.attr("src",l),t.removeClass("lazy"),o=$(".lazy")}}),0==o.length&&($(document).off("scroll"),$(window).off("resize"))},20)}o=$(".lazy"),$(document).on("scroll",i),$(window).on("resize",i)}var a=new Swiper(".swiper-p-container",{direction:"horizontal",allowTouchMove:!1,slidesPerView:1,slidesPerGroup:1,effect:"coverflow",coverflowEffect:{rotate:50,slideShadows:!1},pagination:{el:".projects__pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),s=new Swiper(".swiper-projects-image",{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,grabCursor:!0,allowTouchMove:!0,effect:"coverflow",coverflowEffect:{rotate:50,slideShadows:!1},autoplay:{delay:7500,disableOnInteraction:!1,pauseOnMouseEnter:!0},watchSlidesVisibility:!0,preloadImages:!1,lazy:!0});a.controller.control=s,s.controller.control=a;var c=new Swiper(".swiper-c-steps",{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,allowTouchMove:!1,spaceBetween:2,navigation:{nextEl:".steps__button-next",prevEl:".steps__button-prev"},pagination:{el:".steps__pagination",type:"bullets",bulletClass:"steps__pagination-bullet",bulletActiveClass:"steps__pagination-bullet-active"},effect:"coverflow",coverflowEffect:{slideShadows:!1,depth:120,rotate:50}}),d=new Swiper(".swiper-c-steps-image",{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,allowTouchMove:!1,spaceBetween:2,watchSlidesVisibility:!0,preloadImages:!1,lazy:!0,pagination:{el:".steps__image-pagination",type:"bullets",bulletClass:"steps__image-bullet",bulletActiveClass:"steps__image-bullet-active",bulletElement:"div",clickable:!0},effect:"flip",flipEffect:{slideShadows:!1},breakpoints:{880:{allowTouchMove:!1},100:{allowTouchMove:!0}}});c.controller.control=d,d.controller.control=c}),$(document).ready(function(){var e=$(".modal"),t=$("[data-toggle=modal]"),o=$(".modal__close"),l=$(".modal-submit"),r=$(".modal-submit__close");t.on("click",function(){e.toggleClass("modal--visible"),document.querySelector("body").style.overflow="hidden"}),o.on("click",function(){e.toggleClass("modal--visible"),document.querySelector("body").style.overflow="auto"}),r.on("click",function(){l.removeClass("modal-submit-visible"),document.querySelector("body").style.overflow="auto"}),$(window).scroll(function(){$(this).scrollTop()>650?$(".arrow-top").fadeIn():$(".arrow-top").fadeOut()}),$(".arrow-top").click(function(){return $("html, body").animate({scrollTop:0},1250),!1});var n=$(".projects__button-next.swiper-button-next"),i=$(".projects__button-prev.swiper-button-prev"),a=$(".projects__pagination.swiper-pagination");n.css("margin-left",i.width()+a.width()+58),a.css("margin-left",i.width()+29);var s=$(".steps__button-next"),c=$(".steps__button-prev"),d=$(".steps__pagination");s.css("margin-left",c.width()+d.width()+58),d.css("margin-left",c.width()+29);l=$(".modal-submit");$(".modal__form").validate({errorClass:"valid-error",validClass:"valid-valid",rules:{userName:{required:!0,minlength:1,maxlength:35},userPhone:{required:!1,minlength:17,maxlength:17},userEmail:{required:!0,email:!0,maxlength:90}},messages:{userName:{required:"Indicate your name!",minlength:"Not less than 1 character!",maxlength:"Indicate you name a little shorter!"},userEmail:{required:"Indicate correct email!",email:"Example: name@domain.com"}},submitHandler:function(t){$.ajax({type:"POST",url:"mailSender.php",data:$(t).serialize(),dataType:"html",success:function(o){console.log("AjaxPHP Code: "+o),$(t)[0].reset(),l.toggleClass("modal-submit-visible"),document.querySelector("body").style.overflow="hidden",e.removeClass("modal--visible")}})}}),$(".control__form").validate({errorClass:"valid-error",validClass:"valid-valid",rules:{userName:{required:!0,minlength:1,maxlength:35},userPhone:{required:!0,minlength:17,maxlength:17}},messages:{userName:{required:"Indicate your name!",minlength:"Not less than 1 character!",maxlength:"Indicate you name a little shorter!"},userPhone:{required:"Telephone number is required here!",minlength:"Indicate full number",maxlength:"Indicate full number"}},submitHandler:function(e){$.ajax({type:"POST",url:"mailSender.php",data:$(e).serialize(),dataType:"html",success:function(t){console.log("AjaxPHP Code: "+t),$(e)[0].reset(),l.toggleClass("modal-submit-visible"),document.querySelector("body").style.overflow="hidden"}})}}),$(".questions__form").validate({errorClass:"valid-error",validClass:"valid-valid",rules:{userName:{required:!0,minlength:1,maxlength:35},userPhone:{required:!0,minlength:17,maxlength:17},userQuestion:{required:!0,maxlength:999,minlength:10}},messages:{userName:{required:"Indicate your name!",minlength:"Not less than 1 character!",maxlength:"Indicate you name a little shorter!"},userPhone:{required:"Telephone number is required here!",minlength:"Indicate full number",maxlength:"Indicate full number"},userQuestion:{required:"Indicate your question",maxlength:"Type little bit less please!",minlength:"Type little bit more"}},submitHandler:function(e){$.ajax({type:"POST",url:"mailSender.php",data:$(e).serialize(),dataType:"html",success:function(t){console.log("AjaxPHP Code: "+t),$(e)[0].reset(),l.toggleClass("modal-submit-visible"),document.querySelector("body").style.overflow="hidden"}})}}),$('input[type="tel"]').mask("+1 (000) 000-0000",{placeholder:"+1 (___) ___-____"})});